{"version":3,"sources":["webpack:///./src/views/Settings.vue","webpack:///./src/components/settings/ChangePasswordForm.vue","webpack:///./src/components/settings/ChangePasswordForm.vue?8029","webpack:///./src/views/Settings.vue?21c8"],"names":["class","pwd_show_alert","pwd_alert_variant","pwd_alert_msg","id","validation-schema","schema","chgPWD","name","bails","field","errors","type","placeholder","error","key","disabled","isChangingPassword","data","current_password","password","confirm_password","methods","values","$store","dispatch","params","$route","pwd_submission","computed","watch","this","isChgPwdError","isPasswordChanged","router","$router","route","push","getChgPwdErrorMessage","msgDetails","JSON","parse","errorMessage","__exports__","components","AppChangePasswordForm","render"],"mappings":"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","file":"js/settings.b0486359.js","sourcesContent":["<template>\n  <div class=\"settings\">\n    <app-change-password-form></app-change-password-form>\n  </div>\n</template>\n\n<script>\nimport AppChangePasswordForm from '@/components/settings/ChangePasswordForm.vue';\n// @ is an alias to /src\n// import AppChgPasswordForm from '@/components/settings/ChangePasswordForm.vue';\n\nexport default {\n  name: 'Profile',\n  components: {\n    AppChangePasswordForm,\n    // AppChgPasswordForm,\n  },\n};\n</script>\n\n<style>\n\n</style>\n","<!-- eslint-disable max-len -->\n<template>\n    <section class=\"bg-white-200 dark:bg-gray-900 py-10 w-6/12 mx-auto\">\n      <div class=\"container mx-auto bg-white shadow rounded\">\n        <div class=\"xl:w-full border-b border-gray-300 py-5\">\n          <div class=\"px-2 flex flex-col items-center justify-center mt-8 sm:mt-0\">\n            <h2 class=\"text-4xl dark:text-gray-100 leading-tight pt-8\">Change Password</h2>\n          </div>\n          <div class=\"text-white text-center font-bold p-4 mb-4\"\n            v-if=\"pwd_show_alert\"\n            :class=\"pwd_alert_variant\">\n            {{ pwd_alert_msg}}\n          </div>\n      </div>\n        <div id=\"alert\"\n              class=\"transition duration-150 ease-in-out bg-blue-200 shadow\n                     rounded-md md:flex justify-between items-center top-0 mt-4 mb-4 py-4 px-4\">\n          <div class=\"sm:flex items-center\">\n              <div class=\"flex items-end\">\n                  <div class=\"mr-2 mt-0.5 sm:mt-0 text-blue-500\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"22\" height=\"22\" fill=\"currentColor\">\n                          <path class=\"heroicon-ui\" d=\"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-9a1 1 0 0 1 1 1v4a1 1 0 0 1-2 0v-4a1 1 0 0 1 1-1zm0-4a1 1 0 1 1 0 2 1 1 0 0 1 0-2z\" />\n                      </svg>\n                  </div>\n                  <p class=\"mr-2 text-base font-bold text-blue-500\">Information</p>\n              </div>\n              <div class=\"h-1 w-1 bg-blue-500 rounded-full mr-2 hidden xl:block\"></div>\n              <p class=\"text-base text-blue-500\">After you change your password, you will be logged out of all devices and apps until you log back in with the new one.</p>\n          </div>\n        </div>\n\n        <div class=\"mx-auto flex justify-center md:items-center relative md:h-full\">\n          <!-- Reset Form -->\n          <vee-form id=\"chgPWD\" :validation-schema=\"schema\"\n            @submit=\"chgPWD\"\n            class=\"w-full sm:w-4/6 md:w-4/6 lg:w-8/12 xl:w-8/12 text-gray-800\">\n            <div class=\"mt-6 w-full px-2 sm:px-6\">\n              <!-- Current Password -->\n              <div class=\"mb-3\">\n                <label class=\"inline-block mb-2\">Current Password</label>\n                <vee-field name=\"current_password\" :bails=\"false\" v-slot=\"{ field, errors }\">\n                  <input class=\"block w-full py-1.5 px-3 text-gray-800 border\n                    border-gray-300 transition duration-500 focus:outline-none\n                    focus:border-black rounded\" type=\"password\"\n                    placeholder=\"Current Password\" v-bind=\"field\" />\n                  <div class=\"text-red-600\" v-for=\"error in errors\" :key=\"error\">\n                    {{ error }}\n                  </div>\n                </vee-field>\n              </div>\n              <!-- Password -->\n              <div class=\"mb-3\">\n                <label class=\"inline-block mb-2\">New Password</label>\n                <vee-field name=\"password\" :bails=\"false\" v-slot=\"{ field, errors }\">\n                  <input class=\"block w-full py-1.5 px-3 text-gray-800 border\n                    border-gray-300 transition duration-500 focus:outline-none\n                    focus:border-black rounded\" type=\"password\"\n                    placeholder=\"New Password\" v-bind=\"field\" />\n                  <div class=\"text-red-600\" v-for=\"error in errors\" :key=\"error\">\n                    {{ error }}\n                  </div>\n                </vee-field>\n              </div>\n              <!-- Confirm Password -->\n              <div class=\"mb-3\">\n                <label class=\"inline-block mb-2\">Confirm New Password</label>\n                <vee-field type=\"password\" name=\"confirm_password\"\n                  class=\"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition\n                    duration-500 focus:outline-none focus:border-black rounded\"\n                  placeholder=\"Confirm New Password\" />\n                <ErrorMessage class=\"text-red-600\" name=\"confirm_password\" />\n              </div>\n            </div>\n            <div class=\"px-2 mb-16 sm:mb-56 md:mb-16 sm:px-6\">\n                <button\n                  class=\"focus:outline-none w-full bg-indigo-700 transition duration-150 ease-in-out hover:bg-indigo-600 rounded text-white px-8 py-3 text-sm mt-6\"\n                  type = \"submit\"\n                  :disabled=\"this.isChangingPassword\"\n                >Submit</button>\n            </div>\n          </vee-form>\n        </div>\n      </div>\n\n    </section>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'ChangePasswordForm',\n  data() {\n    return {\n      schema: {\n        current_password: 'required|min:3|max:100',\n        password: 'required|min:3|max:100',\n        confirm_password: 'passwords_mismatch:@password',\n      },\n      pwd_show_alert: false,\n      pwd_alert_variant: 'bg-blue-500',\n      pwd_alert_msg: 'Please wait! We are processing your reset request.',\n    };\n  },\n  methods: {\n    async chgPWD(values) {\n      try {\n        await this.$store.dispatch('changePassword', { values, params: this.$route.params });\n      } catch (error) {\n        this.pwd_submission = false;\n        this.pwd_alert_variant = 'bg-red-500';\n        this.pwd_alert_msg = 'An unexpected error occured.  Please try again later.';\n      }\n    },\n  },\n  computed: {\n  // mix the getters into computed with object spread operator\n    ...mapGetters([\n      'isChgPwdError',\n      'isChangingPassword',\n      'isPasswordChanged',\n      'getChgPwdErrorMessage',\n    // ...\n    ]),\n  },\n  watch: {\n    isChangingPassword() {\n      // Show message\n      if (this.isChangingPassword) {\n        this.pwd_show_alert = true;\n        this.pwd_alert_msg = 'Please wait! We are processing the reset request.';\n      }\n\n      // set the colors\n      if (this.isChgPwdError) {\n        this.pwd_alert_variant = 'bg-red-500';\n      } else if (this.isChangingPassword) { this.pwd_alert_variant = 'bg-green-500'; } else { this.pwd_alert_variant = 'bg-blue-500'; }\n    },\n    isPasswordChanged() {\n      this.pwd_alert_msg = 'Success! Passwords have been reset.  Please Sign In using your new credentials.';\n      try {\n        this.$store.dispatch('signout', {\n          router: this.$router,\n          route: this.$route,\n        });\n\n        // console.log(this.$route);\n        // if (this.$route.meta.requiresAuth) {\n        this.$router.push({ name: 'home' });\n      } catch (error) {\n        this.pwd_alert_variant = 'bg-red-500';\n        this.pwd_alert_msg = 'An unexpected error occured while trying to redirect.  Please try again later.';\n      }\n    },\n    isChgPwdError() {\n      if (this.getChgPwdErrorMessage) {\n        try {\n          const msgDetails = JSON.parse(this.getChgPwdErrorMessage);\n          if (msgDetails?.field) {\n            if (msgDetails.field === 'passwordCurrent') {\n              this.pwd_alert_msg = msgDetails.errorMessage;\n            }\n          }\n        } catch {\n          this.pwd_alert_msg = this.getChgPwdErrorMessage;\n        }\n      }\n      // this.pwd_alert_msg = this.getChgPwdErrorMessage;\n    },\n  },\n};\n</script>\n","import { render } from \"./ChangePasswordForm.vue?vue&type=template&id=33224518\"\nimport script from \"./ChangePasswordForm.vue?vue&type=script&lang=js\"\nexport * from \"./ChangePasswordForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/client-auth-template/client-auth-template/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Settings.vue?vue&type=template&id=4be95e22\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/client-auth-template/client-auth-template/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}